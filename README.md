# bud_segment

Bud_segment includes a jupyter notebook to segment CT scans of plant buds into leaf and bud scale, 
and to calculate various properties of the leaf such as compactness, fractal dimension, leaf to bud volume ratio, etc. 
The details of the method and the analysis performed on roughly 20 buds is described in a manuscript 
submitted to BMC Bioinformatics. The manuscript will be linked here once it is accepted for publication.

## How to run the code?
We provide a conda environment file to ensure reproducability (env_bud_segment.yml). To create and activate the environment,
please give the following commands in your terminal in the bud_segment directory:

`conda env create -n env_bud_segment -f env_bud_segment.yml`

`conda activate env_bud_segment`

Once the environment is activated, you can launch jupyter-notebook from the terminal:

`jupyter-notebook`

And open the leaf_interpolation.ipynb file to view and execute the code cell by cell.

The code assumes that the image stacks of a bud are located in the `image_stacks` folder within `bud_segment`. For example, if you have three buds to segment and the CT images are in the folders `bud1`, `bud2`, and `bud3`, the folder structure should look like this:

    .
    ├── image_stacks
    |       ├── bud1
    |       ├── bud2
    |       └── bud3
    ├── leaf_interpolation.ipynb                   
    ├── env_bud_segment.yml
    └── README.md
    
Data will be saved to `data_files` and any images generated by the code are saved in `animation`. So, your folder structure should look like this before running the code:
    
    .
    ├── image_stacks
    |       ├── bud1
    |       ├── bud2
    |       └── bud3
    ├── data_files
    ├── animation
    ├── leaf_interpolation.ipynb                   
    ├── env_bud_segment.yml
    └── README.md

## Code output
